#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Tue Sep  1 21:05:25 2020

@author: alex
"""

import matplotlib.pyplot as plt
import matplotlib.image as mpimg
import numpy as np
from scipy import interpolate

img=mpimg.imread('/home/alex/Downloads/Screenshot_2020-09-01  report dvi - report pdf.png')

fig = plt.figure()
ax = fig.add_subplot(1,1,1)

ax.imshow(img,extent=[0,1,0,1],aspect="auto",transform=ax.transAxes)

plt.yscale("log")
plt.xlim(0,4)
plt.ylim(3e2,1e5)

cal_y=np.array([100000.        , 100000.        ,  51337.        ,  35695.        ,
        29298.        ,  23116.        ,  19275.        ,  16720.        ,
        13297.        ,  11999.        ,  10408.        ,   8679.        ,
         7832.        ,   6428.        ,   6082.        ,   5576.        ,
         4992.        ,   4613.        ,   4196.        ,   4001.        ,
         3526.        ,   3233.        ,   3132.        ,   2917.        ,
         2849.        ,   2696.        ,   2491.        ,   2320.        ,
         2144.        ,   1981.        ,   1859.        ,   1787.        ,
         1639.        ,   1550.        ,   1421.        ,   1388.        ,
         1313.        ,   1272.        ,   1243.        ,   1223.        ,
         1157.        ,   1121.        ,   1044.        ,   1012.        ,
          892.        ,    885.        ,    913.        ,    913.        ,
          864.        ,    805.        ,    773.        ,    743.        ,
          709.        ,    665.        ,    671.        ,    703.        ,
          687.        ,    671.        ,    687.        ,    687.        ,
          645.        ,    660.        ,    615.39995156,    635.15668755,
          586.91111138,    577.71098146,    615.39995156,    596.25775468,
          600.98674654,    605.7532446 ,    605.7532446 ,    555.33666928,
          573.1651399 ,    559.7411111 ,    582.29287664,    568.65506826,
          582.29287664,    546.63148479,    586.91111138,    559.7411111 ,
          610.55754634,    582.29287664,    538.06275849,    564.18048508,
          555.33666928,    568.65506826,    568.65506826])
cal_x=np.array([0.        , 0.35      , 0.39282353, 0.43564706, 0.47847059,
       0.52129412, 0.56411765, 0.60694118, 0.64976471, 0.69258824,
       0.73541176, 0.77823529, 0.82105882, 0.86388235, 0.90670588,
       0.94952941, 0.99235294, 1.03517647, 1.078     , 1.12082353,
       1.16364706, 1.20647059, 1.24929412, 1.29211765, 1.33494118,
       1.37776471, 1.42058824, 1.46341176, 1.50623529, 1.54905882,
       1.59188235, 1.63470588, 1.67752941, 1.72035294, 1.76317647,
       1.806     , 1.84882353, 1.89164706, 1.93447059, 1.97729412,
       2.02011765, 2.06294118, 2.10576471, 2.14858824, 2.19141176,
       2.23423529, 2.27705882, 2.31988235, 2.36270588, 2.40552941,
       2.44835294, 2.49117647, 2.534     , 2.57682353, 2.61964706,
       2.66247059, 2.70529412, 2.74811765, 2.79094118, 2.83376471,
       2.87658824, 2.91941176, 2.96048038, 2.99399525, 3.03309594,
       3.09453987, 3.13643346, 3.17274124, 3.21463483, 3.26490714,
       3.29842201, 3.3403156 , 3.37383047, 3.42130987, 3.47716799,
       3.51906158, 3.55536936, 3.60005586, 3.63357073, 3.67825723,
       3.73411535, 3.77600894, 3.81790253, 3.84862449, 3.90448261,
       3.94079039, 3.98826979])

dat_x=np.array([0, 0.03910068, 0.08378718, 0.12847368, 0.20108923,
       0.25415445, 0.29884094, 0.34073453, 0.38821394, 0.43290043,
       0.47200112, 0.51948052, 0.58930317, 0.64236838, 0.68705488,
       0.72615556, 0.81552856, 0.85742215, 0.94120933, 1.03616813,
       1.07526882, 1.159056  , 1.24563608, 1.29032258, 1.37410976,
       1.42717498, 1.46068985, 1.50816925, 1.58637062, 1.63105711,
       1.66457199, 1.71205139, 1.7651166 , 1.80142438, 1.86845413,
       1.93269096, 2.02485686, 2.05837174, 2.10026533, 2.15053763,
       2.18684541, 2.23432481, 2.26783969, 2.32928362, 2.39910627,
       2.43820695, 2.51361542, 2.5974026 , 2.66722525, 2.7370479 ,
       2.80407764, 2.86552158, 3.01075269, 3.12805474, 3.19787739,
       3.2481497 , 3.32914397, 3.46878928, 3.61681329, 3.72294372,
       3.80952381, 3.86538193, 3.93799749, 3.9910627 ])
dat_y=np.array([100000,  8817.70110161,  8212.54352179,  8817.70110161,
        6428.67098269,  4541.12658296,  4196.18922695,  3035.21902787,
        3816.67176656,  3846.94224872,  4434.76942722,  4263.01413987,
        4724.08691937,  4761.55422009,  5318.3962912 ,  4686.91443807,
        5032.27903682,  4505.39376392,  4001.93415109,  3499.01185914,
        2632.90177856,  2061.00086035,  1185.54588836,   864.33916996,
         596.25775468,   582.29287664,   555.33666928,   681.95946951,
         786.1654297 ,   767.75274785,   844.09559074,   773.8418871 ,
         773.8418871 ,   681.95946951,   615.39995156,   525.46085816,
         513.15410535,   550.96688475,   533.82889739,   564.18048508,
         546.63148479,   559.7411111 ,   538.06275849,   521.32615779,
         489.39855376,   489.39855376,   501.13558746,   489.39855376,
         489.39855376,   481.72698274,   470.44451554,   501.13558746,
         470.44451554,   477.93641166,   474.17566749,   497.19229565,
         455.81120022,   481.72698274,   481.72698274,   493.28003247,
         485.54761729,   466.74272295,   481.72698274,   459.42629359])

wat_x=np.array([0, 0.04189359, 0.08937299, 0.12847368, 0.17036727,
       0.21784667, 0.25694735, 0.29884094, 0.34073453, 0.38821394,
       0.43010753, 0.47758693, 0.51389471, 0.56137411, 0.59488898,
       0.64236838, 0.68984779, 0.73174138, 0.77084206, 0.82390728,
       0.86300796, 0.89372993, 0.94120933, 0.99148164, 1.03896104,
       1.06968301, 1.11995531, 1.159056  , 1.19257087, 1.24005027,
       1.28473677, 1.32383745, 1.36852395, 1.41879626, 1.45789694,
       1.49979053, 1.54447703, 1.58357771, 1.63105711, 1.68132942,
       1.7176372 , 1.75673789, 1.80701019, 1.84331797, 1.88521156,
       1.92989806, 1.97179165, 2.01368524, 2.06116464, 2.10026533,
       2.13936601, 2.18963832, 2.22315319, 2.28180422, 2.32369781,
       2.36000559, 2.39631336, 2.44379277, 2.48847926, 2.53595866,
       2.56668063, 2.61136713, 2.66163944, 2.69794721, 2.7398408 ,
       2.77894149, 2.8320067 , 2.87948611, 2.91858679, 2.9688591 ,
       3.01075269, 3.04147465, 3.08616115, 3.13364055, 3.17553414,
       3.21463483, 3.25652842, 3.30400782, 3.34869432, 3.38500209,
       3.42410278, 3.46599637, 3.5246474 , 3.55816227, 3.60005586,
       3.64194945, 3.68663594, 3.72852953, 3.77321603, 3.81510962,
       3.85979612, 3.91006843, 3.95475492, 3.98547689])

wat_y=np.array([100000,  5940.3585054 ,  4724.08691937,  2940.80764535,
        1626.1198176 ,  1575.53888136,   844.09559074,   792.40060214,
         805.01969494,   703.85302534,   767.75274785,   779.97932004,
         620.28076249,   596.25775468,   596.25775468,   573.1651399 ,
         596.25775468,   529.62835133,   542.33019885,   573.1651399 ,
         497.19229565,   463.0700587 ,   477.93641166,   470.44451554,
         497.19229565,   452.22455297,   555.33666928,   497.19229565,
         481.72698274,   481.72698274,   470.44451554,   505.11015399,
         555.33666928,   497.19229565,   497.19229565,   463.0700587 ,
         474.17566749,   493.28003247,   513.15410535,   477.93641166,
         517.22399219,   481.72698274,   509.11624328,   509.11624328,
         485.54761729,   481.72698274,   501.13558746,   470.44451554,
         501.13558746,   463.0700587 ,   485.54761729,   459.42629359,
         441.63305848,   470.44451554,   470.44451554,   497.19229565,
         485.54761729,   466.74272295,   481.72698274,   481.72698274,
         477.93641166,   489.39855376,   474.17566749,   493.28003247,
         493.28003247,   493.28003247,   474.17566749,   485.54761729,
         505.11015399,   463.0700587 ,   505.11015399,   455.81120022,
         455.81120022,   501.13558746,   474.17566749,   497.19229565,
         501.13558746,   497.19229565,   459.42629359,   470.44451554,
         470.44451554,   470.44451554,   470.44451554,   477.93641166,
         463.0700587 ,   489.39855376,   463.0700587 ,   513.15410535,
         493.28003247,   445.1357033 ,   477.93641166,   452.22455297,
         474.17566749,   477.93641166])



plt.scatter(cal_x,cal_y)
plt.scatter(dat_x,dat_y)
plt.scatter(wat_x,wat_y)

scale_x=0.217/1.42
scale_y=np.max(cal_y)

f_cal = interpolate.interp1d(cal_x*scale_x, cal_y/scale_y)
f_dat = interpolate.interp1d(dat_x*scale_x, dat_y/scale_y)
f_wat = interpolate.interp1d(wat_x*scale_x, wat_y/scale_y)


# coords = []

# def onclick(event):
#     global ix, iy
#     ix, iy = event.xdata, event.ydata
#     print(ix,iy)

#     global coords
#     coords.append((ix, iy))

#     if len(coords) == 100:
#         fig.canvas.mpl_disconnect(cid)

#     return coords
# cid = fig.canvas.mpl_connect('button_press_event', onclick)

